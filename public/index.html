<!doctype html>
<html ng-app="pandemic">
	<head>
		<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.0.2/css/foundation.min.css"></link>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.0.2/js/foundation.min.js"></script>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>

		<script type="text/javascript" src="/socket.io/socket.io.js"></script>

		<link rel="stylesheet" type="text/css" href="main.css"></link>
		<title>Pandemic</title>
	</head>
	<body>
		<div class="row">
			<div class="columns large-12">
				<svg width="1024" height="724" ng-controller="MapCtrl" style="background-image: url('img/map.jpg">
					<rect ng-repeat="city in cities" x="{{city.x}}" y="{{city.y}}" width="27" height="27" style="fill:{{city.group | groupColor}}" />
				</svg>
			</div>
		</div>
		<div class="row">
			<div class="columns large-4">
				<div ng-controller="ChatCtrl">
					<div class="row">
						<div class="large-12 columns">
							<div class="row collapse">
								<div class="columns">
									<input type="text" ng-model="user.name" placeholder="Your name here..."></input>
								</div>
							</div>
							<div class="row" id="message-log">
								<div class="columns">
									<ul class="no-bullet">
										<li ng-repeat="message in log | reverse">
											<span class="label secondary">
												{{message.date | date:'HH:mm:ss'}}
											</span>
											<span class="label {{message.from.type}}">
												{{message.from.name}}
											</span>
											<span>{{message.text}}</span>
										</li>
									</ul>
								</div>
							</div>
							<div class="row collapse">
								<div class="columns">
									<input type="text" ng-model="text" placeholder="Chat message..."></input>
								</div>
								<div class="columns">
									<button class="button postfix"
										ng-click="post(text)"
										ng-disabled="!user.name || !text">Post</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="columns large-4">
				<p>Some status info here</p>
			</div>
		</div>


		<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.3/angular.min.js"></script>
		<script type="text/javascript" src="js/main.js"></script>
	</body>
</html>
